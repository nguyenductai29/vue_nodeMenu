{"ast":null,"code":"import _defineProperty from \"C:/\\u30D7\\u30ED\\u30B8\\u30A7\\u30AF\\u30C8_moke/vue_node_web_system/vue_nodeMenu/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Header from '../components/Header.vue';\nimport CustomButton from '../components/CustomButton.vue';\nimport FoodInfo from '../components/FoodInformation.vue';\nimport { TabulatorFull as Tabulator } from 'tabulator-tables';\nimport 'tabulator-tables/dist/css/tabulator.min.css';\nimport 'tabulator-tables/dist/css/tabulator_semanticui.min.css';\nexport default {\n  name: 'Menu',\n  components: {\n    Header: Header,\n    CustomButton: CustomButton,\n    FoodInfo: FoodInfo\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      title: 'メニュー一覧',\n      isDisabled: false,\n      foods: [{\n        id: 1,\n        foodName: 'フォー',\n        size: null,\n        count: 1,\n        price: 800,\n        foodImage: 'pho.jpg'\n      }, {\n        id: 2,\n        foodName: 'ピリ辛ブンーボーフェ',\n        size: null,\n        count: 1,\n        price: 800,\n        foodImage: 'bunbohue.jpg'\n      }, {\n        id: 3,\n        foodName: '厚揚げブンと特性ソース付け',\n        size: null,\n        count: 1,\n        price: 800,\n        foodImage: 'bundau.jpg'\n      }, {\n        id: 4,\n        foodName: 'ベトナム風うどん',\n        size: null,\n        count: 1,\n        price: 800,\n        foodImage: 'chaocanh.jpg'\n      }, {\n        id: 5,\n        foodName: 'ベトナム風ピリ辛うなぎスープ',\n        size: null,\n        count: 1,\n        price: 1800,\n        foodImage: 'supluon.jpg'\n      }, {\n        id: 6,\n        foodName: 'ピザ',\n        size: null,\n        count: 1,\n        price: 1200,\n        foodImage: 'pizza.jpg'\n      }, {\n        id: 7,\n        foodName: 'サンドイッチ',\n        size: null,\n        count: 1,\n        price: 210,\n        foodImage: 'sandwich.jpg'\n      }, {\n        id: 8,\n        foodName: '引張うどん',\n        size: null,\n        count: 1,\n        price: 500,\n        foodImage: 'udon.jpg'\n      }, {\n        id: 9,\n        foodName: '柔らかライスペーパーの肉巻き',\n        size: null,\n        count: 1,\n        price: 500,\n        foodImage: 'banhcuon.jpg'\n      }, {\n        id: 10,\n        foodName: '柔らかライスペーパーセット',\n        size: null,\n        count: 1,\n        price: 300,\n        foodImage: 'banhmuot.jpg'\n      }, {\n        id: 11,\n        foodName: '特別なバンミー',\n        size: null,\n        count: 1,\n        price: 1000,\n        foodImage: 'banhmidacbiet.jpg'\n      }, {\n        id: 12,\n        foodName: 'ハム入りバンミー',\n        size: null,\n        count: 1,\n        price: 600,\n        foodImage: 'banhmido.jpg'\n      }, {\n        id: 13,\n        foodName: '焼肉バンミー',\n        size: null,\n        count: 1,\n        price: 650,\n        foodImage: 'banhmithitquay.jpg'\n      }, {\n        id: 14,\n        foodName: 'レバーミックスバンミー',\n        size: null,\n        count: 1,\n        price: 500,\n        foodImage: 'banhmybate.jpg'\n      }, {\n        id: 15,\n        foodName: '焼肉バンミー（特性ピリ辛ソース入り）',\n        size: null,\n        count: 1,\n        price: 700,\n        foodImage: 'banhmysotcay.jpg'\n      }, {\n        id: 16,\n        foodName: '特性ミックスバンミー',\n        size: null,\n        count: 1,\n        price: 850,\n        foodImage: 'banhmythamcam.jpg'\n      }, {\n        id: 17,\n        foodName: 'ドーナツセット',\n        size: null,\n        count: 1,\n        price: 700,\n        foodImage: 'donatset.jpg'\n      }, {\n        id: 18,\n        foodName: '焼き餃子（20個入り）',\n        size: null,\n        count: 1,\n        price: 500,\n        foodImage: 'gyoza.jpg'\n      }, {\n        id: 19,\n        foodName: 'ハンバーガーセット',\n        size: null,\n        count: 1,\n        price: 1300,\n        foodImage: 'humbagerset.jpg'\n      }, {\n        id: 20,\n        foodName: 'ミートソースパスター',\n        size: null,\n        count: 1,\n        price: 600,\n        foodImage: 'mitososu.jpg'\n      }, {\n        id: 21,\n        foodName: 'コーンのおこわセット',\n        size: null,\n        count: 1,\n        price: 550,\n        foodImage: 'xoibap.jpg'\n      }, {\n        id: 22,\n        foodName: '緑豆おこわセット',\n        size: null,\n        count: 1,\n        price: 550,\n        foodImage: 'xoidauxanh.jpg'\n      }, {\n        id: 23,\n        foodName: 'ピーナッツおこわセット',\n        size: null,\n        count: 1,\n        price: 550,\n        foodImage: 'xoilac.jpg'\n      }],\n      invalidSelect: [{\n        text: '大盛',\n        value: 0\n      }, {\n        text: '中盛',\n        value: 1\n      }, {\n        text: '並盛',\n        value: 2\n      }],\n      invalidCountSelect: [{\n        text: '1',\n        value: 1\n      }, {\n        text: '2',\n        value: 2\n      }, {\n        text: '3',\n        value: 3\n      }, {\n        text: '4',\n        value: 4\n      }, {\n        text: '5',\n        value: 5\n      }],\n      tabulator: null,\n      oder_items: [],\n      duplicate: false,\n      itemPrice: null,\n      taxPrice: null,\n      tax: 0,\n      total: 0,\n      actionColumn: [{\n        title: '',\n        field: 'actions',\n        formatter: function formatter(cell) {\n          return \"<div id='actions'>\".concat(_this.$iconTemplate.delete, \"</div>\");\n        },\n        resizable: false,\n        headerSort: false,\n        width: '50'\n      }],\n      options: {\n        movableRows: true,\n        height: 497,\n        layout: 'fitColumns'\n      }\n    };\n  },\n  watch: {\n    oder_items: {\n      handler: function handler(newData) {\n        if (!newData) return;\n        this.tabulator.replaceData(newData);\n      },\n      deep: true\n    }\n  },\n  mounted: function mounted() {\n    try {\n      this.$store.dispatch('setAuth', this.$attrs.auth);\n      this.$store.dispatch('initState');\n      var invalidParams = this.invalidSelect.reduce(function (pre, cur) {\n        return Object.assign(pre, _defineProperty({}, cur.text, cur.text));\n      }, {});\n      var invalidCountParams = this.invalidCountSelect.reduce(function (pre, cur) {\n        return Object.assign(pre, _defineProperty({}, cur.text, cur.text));\n      }, {});\n      var baseColumn = [{\n        rowHandle: true,\n        formatter: 'handle',\n        frozen: true,\n        width: 30\n      }, {\n        title: '品名',\n        field: 'foodName',\n        width: 230\n      }, {\n        title: 'サイズ',\n        field: 'size',\n        width: 90,\n        editor: \"select\",\n        editorParams: {\n          values: invalidParams\n        }\n      }, {\n        title: '個数',\n        field: 'count',\n        width: 80,\n        editor: \"select\",\n        editorParams: {\n          values: invalidCountParams\n        }\n      }, {\n        title: '金額',\n        field: 'price',\n        width: 100\n      }];\n      this.options.columns = baseColumn.concat(this.actionColumn);\n      this.options.data = this.oder_items;\n      this.tabulator = new Tabulator(this.$refs.table, this.options);\n      this.cellClick(this.tabulator);\n      this.dataChanged(this.tabulator);\n    } catch (err) {\n      console.log(err);\n    }\n  },\n  methods: {\n    dataChanged: function dataChanged(table) {\n      table.on(\"dataChanged\", function (data) {\n        data.forEach(function (obj) {\n          switch (obj.count) {\n            case '2':\n              obj.price = obj.price * 2;\n              break;\n\n            case '3':\n              obj.price = obj.price * 3;\n              break;\n\n            case '4':\n              obj.price = obj.price * 4;\n              break;\n\n            case '5':\n              obj.price = obj.price * 5;\n              break;\n          }\n        });\n      });\n    },\n    cellClick: function cellClick(table) {\n      table.on('rowClick', function (e, row) {\n        console.log(e);\n        console.log(row);\n        console.log(e.currentTarget);\n      });\n    },\n    onSelect: function onSelect(food) {\n      var isExisted = this.oder_items.some(function (item) {\n        return item.id === food.id;\n      });\n\n      if (!isExisted) {\n        this.oder_items.push(food);\n        this.tax = food.price * 0.1;\n        this.taxPrice += this.tax;\n        this.total += food.price;\n        this.itemPrice = this.total + this.taxPrice;\n      }\n    },\n    onDelete: function onDelete(row) {\n      console.log(row);\n      row.delete();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,cADA;AAEAC;AACAC,kBADA;AAEAC,8BAFA;AAGAC;AAHA,GAFA;AAOAC,MAPA,kBAOA;AAAA;;AACA;AACAC,qBADA;AAEAC,uBAFA;AAGAC,cACA;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OADA,EAEA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAFA,EAGA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAHA,EAIA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAJA,EAKA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OALA,EAMA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OANA,EAOA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAPA,EAQA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OARA,EASA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OATA,EAUA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAVA,EAWA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAXA,EAYA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAZA,EAaA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAbA,EAcA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAdA,EAeA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAfA,EAgBA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAhBA,EAiBA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAjBA,EAkBA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAlBA,EAmBA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAnBA,EAoBA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OApBA,EAqBA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OArBA,EAsBA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAtBA,EAuBA;AAAAL;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAvBA,CAHA;AA4BAC,sBACA;AAAAC;AAAAC;AAAA,OADA,EAEA;AAAAD;AAAAC;AAAA,OAFA,EAGA;AAAAD;AAAAC;AAAA,OAHA,CA5BA;AAiCAC,2BACA;AAAAF;AAAAC;AAAA,OADA,EAEA;AAAAD;AAAAC;AAAA,OAFA,EAGA;AAAAD;AAAAC;AAAA,OAHA,EAIA;AAAAD;AAAAC;AAAA,OAJA,EAKA;AAAAD;AAAAC;AAAA,OALA,CAjCA;AAwCAE,qBAxCA;AAyCAC,oBAzCA;AA0CAC,sBA1CA;AA2CAC,qBA3CA;AA4CAC,oBA5CA;AA6CAC,YA7CA;AA8CAC,cA9CA;AA+CAC,qBACA;AAAApB;AAAAqB;AAAAC;AAAA;AAAA;AAAAC;AAAAC;AAAAC;AAAA,OADA,CA/CA;AAkDAC;AACAC,yBADA;AAEAC,mBAFA;AAGAC;AAHA;AAlDA;AAwDA,GAhEA;AAiEAC;AACAhB;AACAiB;AACA;AACA;AACA,OAJA;AAKAC;AALA;AADA,GAjEA;AA0EAC,SA1EA,qBA0EA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA,wBACA;AAAAC;AAAAZ;AAAAa;AAAAV;AAAA,OADA,EAEA;AAAAzB;AAAAqB;AAAAI;AAAA,OAFA,EAGA;AAAAzB;AAAAqB;AAAAI;AAAAW;AAAAC;AAAAC;AAAA;AAAA,OAHA,EAIA;AAAAtC;AAAAqB;AAAAI;AAAAW;AAAAC;AAAAC;AAAA;AAAA,OAJA,EAKA;AAAAtC;AAAAqB;AAAAI;AAAA,OALA;AAOA;AACA;AACA;AACA;AACA;AACA,KAjBA,CAiBA;AACAc;AACA;AACA,GA/FA;AAgGAC;AACAC,eADA,uBACAC,KADA,EACA;AACAA;AACA3C;AACA;AACA;AACA4C;AACA;;AACA;AACAA;AACA;;AACA;AACAA;AACA;;AACA;AACAA;AACA;AAZA;AAcA,SAfA;AAgBA,OAjBA;AAkBA,KApBA;AAqBAC,aArBA,qBAqBAF,KArBA,EAqBA;AACAA;AACAH;AACAA;AACAA;AACA,OAJA;AAKA,KA3BA;AA4BAM,YA5BA,oBA4BAC,IA5BA,EA4BA;AACA;AAAA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArCA;AAsCAC,YAtCA,oBAsCAC,GAtCA,EAsCA;AACAT;AACAS;AACA;AAzCA;AAhGA","names":["name","components","Header","CustomButton","FoodInfo","data","title","isDisabled","foods","id","foodName","size","count","price","foodImage","invalidSelect","text","value","invalidCountSelect","tabulator","oder_items","duplicate","itemPrice","taxPrice","tax","total","actionColumn","field","formatter","resizable","headerSort","width","options","movableRows","height","layout","watch","handler","deep","mounted","rowHandle","frozen","editor","editorParams","values","console","methods","dataChanged","table","obj","cellClick","onSelect","food","onDelete","row"],"sourceRoot":"src/views","sources":["Menu.vue"],"sourcesContent":["<template>\r\n    <div class='menu'>\r\n        <v-container>\r\n            <Header :screen-name='title' text-center=\"text-lg-center\"></Header>\r\n        </v-container>\r\n        <v-container>\r\n            <v-row class=\"mb-3\" id=\"main\">\r\n                <v-col id=\"menuList\">\r\n                    <v-row>\r\n                        <v-col cols='3' v-for='food of this.foods' :key='food.id' :id='\"food_item_\" + food.id'>\r\n                            <FoodInfo\r\n                                :food-name=\"food.foodName\"\r\n                                :food-img=\"food.foodImage\"\r\n                                :price=\"food.price\"\r\n                                @click=\"onSelect(food)\"\r\n                            >\r\n                            </FoodInfo>\r\n                        </v-col>\r\n                    </v-row>\r\n                </v-col>\r\n                <v-col cols='4'>\r\n                    <v-row style=\"margin-bottom: 0px;\">\r\n                        <v-col id=\"menuOderList\">\r\n                            <v-form ref='save_form'>\r\n                                <div id=\"orderListTable\" ref=\"table\">\r\n                                </div>\r\n                            </v-form>\r\n                        </v-col>\r\n                    </v-row>\r\n                    <v-row>\r\n                        <v-col id=\"menuOderPayment\">\r\n                            <v-row>\r\n                                <v-col cols='6' style=\"white-space: nowrap;\"><p><span><b>消費税（10％）：</b></span></p></v-col>\r\n                                <v-col cols='6' class=\"text-lg-right\"><p><span>{{ this.taxPrice }} ￥</span></p></v-col>\r\n                            </v-row>\r\n                            <v-row>\r\n                                <v-col cols='6' style=\"white-space: nowrap;\"><p><span><b>総合計：</b></span></p></v-col>\r\n                                <v-col cols='6' class=\"text-lg-right\"><p><span>{{ this.itemPrice }} ￥</span></p></v-col>\r\n                            </v-row>\r\n                        </v-col>\r\n                    </v-row>\r\n                    <v-row>\r\n                        <v-col id=\"btnOder\">\r\n                            <CustomButton\r\n                                title='注文'\r\n                                class='btn-oder'\r\n                                @click='onOder()'\r\n                            >\r\n                            </CustomButton>\r\n                        </v-col>\r\n                    </v-row>\r\n                </v-col>\r\n            </v-row>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '../components/Header.vue'\r\nimport CustomButton from '../components/CustomButton.vue'\r\nimport FoodInfo from '../components/FoodInformation.vue'\r\nimport {TabulatorFull as Tabulator} from 'tabulator-tables'\r\nimport 'tabulator-tables/dist/css/tabulator.min.css'\r\nimport 'tabulator-tables/dist/css/tabulator_semanticui.min.css'\r\n\r\nexport default {\r\n    name: 'Menu',\r\n    components: {\r\n        Header,\r\n        CustomButton,\r\n        FoodInfo\r\n    },\r\n    data() {\r\n        return {\r\n            title: 'メニュー一覧',\r\n            isDisabled: false,\r\n            foods: [\r\n                {id:1, foodName: 'フォー', size: null, count: 1, price: 800, foodImage: 'pho.jpg'},\r\n                {id:2, foodName: 'ピリ辛ブンーボーフェ', size: null, count: 1, price: 800, foodImage: 'bunbohue.jpg'},\r\n                {id:3, foodName: '厚揚げブンと特性ソース付け', size: null, count: 1, price: 800, foodImage: 'bundau.jpg'},\r\n                {id:4, foodName: 'ベトナム風うどん', size: null, count: 1, price: 800, foodImage: 'chaocanh.jpg'},\r\n                {id:5, foodName: 'ベトナム風ピリ辛うなぎスープ', size: null, count: 1, price: 1800, foodImage: 'supluon.jpg'},\r\n                {id:6, foodName: 'ピザ', size: null, count: 1, price: 1200, foodImage: 'pizza.jpg'},\r\n                {id:7, foodName: 'サンドイッチ', size: null, count: 1, price: 210, foodImage: 'sandwich.jpg'},\r\n                {id:8, foodName: '引張うどん', size: null, count: 1, price: 500, foodImage: 'udon.jpg'},\r\n                {id:9, foodName: '柔らかライスペーパーの肉巻き', size: null, count: 1, price: 500, foodImage: 'banhcuon.jpg'},\r\n                {id:10, foodName: '柔らかライスペーパーセット', size: null, count: 1, price: 300, foodImage: 'banhmuot.jpg'},\r\n                {id:11, foodName: '特別なバンミー', size: null, count: 1, price: 1000, foodImage: 'banhmidacbiet.jpg'},\r\n                {id:12, foodName: 'ハム入りバンミー', size: null, count: 1, price: 600, foodImage: 'banhmido.jpg'},\r\n                {id:13, foodName: '焼肉バンミー', size: null, count: 1, price: 650, foodImage: 'banhmithitquay.jpg'},\r\n                {id:14, foodName: 'レバーミックスバンミー', size: null, count: 1, price: 500, foodImage: 'banhmybate.jpg'},\r\n                {id:15, foodName: '焼肉バンミー（特性ピリ辛ソース入り）', size: null, count: 1, price: 700, foodImage: 'banhmysotcay.jpg'},\r\n                {id:16, foodName: '特性ミックスバンミー', size: null, count: 1, price: 850, foodImage: 'banhmythamcam.jpg'},\r\n                {id:17, foodName: 'ドーナツセット', size: null, count: 1, price: 700, foodImage: 'donatset.jpg'},\r\n                {id:18, foodName: '焼き餃子（20個入り）', size: null, count: 1, price: 500, foodImage: 'gyoza.jpg'},\r\n                {id:19, foodName: 'ハンバーガーセット', size: null, count: 1, price: 1300, foodImage: 'humbagerset.jpg'},\r\n                {id:20, foodName: 'ミートソースパスター', size: null, count: 1, price: 600, foodImage: 'mitososu.jpg'},\r\n                {id:21, foodName: 'コーンのおこわセット', size: null, count: 1, price: 550, foodImage: 'xoibap.jpg'},\r\n                {id:22, foodName: '緑豆おこわセット', size: null, count: 1, price: 550, foodImage: 'xoidauxanh.jpg'},\r\n                {id:23, foodName: 'ピーナッツおこわセット', size: null, count: 1, price: 550, foodImage: 'xoilac.jpg'},\r\n            ],\r\n            invalidSelect: [\r\n                { text: '大盛', value: 0 },\r\n                { text: '中盛', value: 1 },\r\n                { text: '並盛', value: 2 },\r\n            ],\r\n            invalidCountSelect: [\r\n                { text: '1', value: 1 },\r\n                { text: '2', value: 2 },\r\n                { text: '3', value: 3 },\r\n                { text: '4', value: 4 },\r\n                { text: '5', value: 5 },\r\n            ],\r\n            tabulator: null,\r\n            oder_items: [],\r\n            duplicate: false,\r\n            itemPrice: null,\r\n            taxPrice: null,\r\n            tax: 0,\r\n            total: 0,\r\n            actionColumn: [\r\n                { title: '', field: 'actions', formatter: (cell) => `<div id='actions'>${this.$iconTemplate.delete}</div>`, resizable: false, headerSort: false, width: '50' }\r\n            ],\r\n            options: {\r\n                movableRows: true,\r\n                height: 497,\r\n                layout: 'fitColumns'\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        oder_items: {\r\n            handler: function (newData) {\r\n                if (!newData) return\r\n                this.tabulator.replaceData(newData)\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    mounted() {\r\n        try {\r\n            this.$store.dispatch('setAuth', this.$attrs.auth)\r\n            this.$store.dispatch('initState')\r\n            const invalidParams = this.invalidSelect.reduce((pre, cur) => Object.assign(pre, { [cur.text]: cur.text }), {})\r\n            const invalidCountParams = this.invalidCountSelect.reduce((pre, cur) => Object.assign(pre, { [cur.text]: cur.text }), {})\r\n            const baseColumn = [\r\n                { rowHandle: true, formatter:'handle', frozen: true, width: 30 },\r\n                { title: '品名', field: 'foodName', width: 230, },\r\n                { title: 'サイズ', field: 'size', width: 90, editor:\"select\", editorParams: { values: invalidParams } },\r\n                { title: '個数', field: 'count', width: 80, editor:\"select\", editorParams: { values: invalidCountParams } },\r\n                { title: '金額', field: 'price', width: 100}\r\n            ]\r\n            this.options.columns = baseColumn.concat(this.actionColumn)\r\n            this.options.data = this.oder_items\r\n            this.tabulator = new Tabulator(this.$refs.table, this.options);\r\n            this.cellClick(this.tabulator)\r\n            this.dataChanged(this.tabulator)\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    },\r\n    methods: {\r\n        dataChanged(table) {\r\n           table.on(\"dataChanged\", function(data){\r\n               data.forEach(obj => {\r\n                   switch (obj.count) {\r\n                        case '2':\r\n                            obj.price = obj.price * 2\r\n                            break;\r\n                        case '3':\r\n                           obj.price = obj.price * 3\r\n                           break;\r\n                        case '4':\r\n                           obj.price = obj.price * 4\r\n                           break;\r\n                        case '5':\r\n                           obj.price = obj.price * 5\r\n                           break;\r\n                   }\r\n               })\r\n            });\r\n        },\r\n        cellClick(table) {\r\n            table.on('rowClick',  function(e, row) {\r\n                console.log(e)\r\n                console.log(row)\r\n                console.log(e.currentTarget)\r\n            })\r\n        },\r\n        onSelect(food) {\r\n            const isExisted = this.oder_items.some(item => item.id === food.id)\r\n            if (!isExisted) {\r\n                this.oder_items.push(food)\r\n                this.tax = food.price * 0.1\r\n                this.taxPrice += this.tax\r\n                this.total += food.price\r\n                this.itemPrice = this.total + this.taxPrice\r\n            }\r\n        },\r\n        onDelete(row) {\r\n            console.log(row)\r\n            row.delete()\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n    max-height: calc(100vh - 130px);\r\n    overflow: hidden;\r\n}\r\n\r\n#menuList {\r\n    border: 1px solid black;\r\n    height: calc(100vh - 265px);\r\n    margin-right: 35px;\r\n    overflow-y: auto;\r\n}\r\n\r\n#menuOderList {\r\n    border: 1px solid black;\r\n    height: calc(100vh - 470px);\r\n    padding: 0px;\r\n    overflow-y: auto;\r\n}\r\n\r\n#menuOderPayment {\r\n    border: 1px solid black;\r\n    height: 115px;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n#orderListTable {\r\n    margin: 0px;\r\n    border: none;\r\n}\r\n\r\n@media screen and (max-width: 960px) {\r\n    #main {\r\n        margin-left: 8px;\r\n        margin-right: 8px;\r\n    }\r\n}\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}