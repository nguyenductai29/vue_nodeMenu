{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '../store';\nVue.use(VueRouter);\nvar path = {\n  MENU: '/',\n  MASTER_USER_LIST: '/master-user-list',\n  MASTER_USER_DETAIL: '/master-user-detail',\n  MASTER_CATEGORY_LIST: '/master-category-list',\n  MASTER_CATEGORY_DETAIL: '/master-category-detail'\n};\nvar menuPaths = [path.MENU];\nvar masterPaths = [path.MASTER_USER_LIST, path.MASTER_USER_DETAIL, path.MASTER_CATEGORY_LIST, path.MASTER_CATEGORY_DETAIL];\nVue.prototype.$path = path;\nvar routes = [{\n  path: path.MENU,\n  name: path.MENU,\n  props: {\n    auth: 0\n  },\n  meta: {\n    title: ''\n  },\n  component: function component() {\n    return import('../views/Menu.vue');\n  }\n}];\nvar router = new VueRouter({\n  mode: 'history',\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  if (menuPaths.includes(to.path)) {\n    next();\n  } else {\n    var existsPath = routes.map(function (route) {\n      return route.path;\n    }).includes(to.path);\n\n    switch (store.state.auth) {\n      case 0:\n        existsPath && !masterPaths.includes(to.path) ? next() : next(path.MENU);\n        break;\n\n      default:\n        next(path.MENU);\n        break;\n    }\n  }\n});\nrouter.afterEach(function (to, from) {\n  return store.dispatch('setTitle', to.meta.title);\n});\nexport default router;","map":{"version":3,"sources":["C:/プロジェクト_moke/vue_node_web_system/frontend/src/router/index.js"],"names":["Vue","VueRouter","store","use","path","MENU","MASTER_USER_LIST","MASTER_USER_DETAIL","MASTER_CATEGORY_LIST","MASTER_CATEGORY_DETAIL","menuPaths","masterPaths","prototype","$path","routes","name","props","auth","meta","title","component","router","mode","beforeEach","to","from","next","includes","existsPath","map","route","state","afterEach","dispatch"],"mappings":";;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,KAAP,MAAkB,UAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,SAAR;AAEA,IAAMG,IAAI,GAAG;AACTC,EAAAA,IAAI,EAAE,GADG;AAETC,EAAAA,gBAAgB,EAAE,mBAFT;AAGTC,EAAAA,kBAAkB,EAAE,qBAHX;AAITC,EAAAA,oBAAoB,EAAE,uBAJb;AAKTC,EAAAA,sBAAsB,EAAE;AALf,CAAb;AAQA,IAAMC,SAAS,GAAG,CAACN,IAAI,CAACC,IAAN,CAAlB;AACA,IAAMM,WAAW,GAAG,CAACP,IAAI,CAACE,gBAAN,EAAwBF,IAAI,CAACG,kBAA7B,EAAiDH,IAAI,CAACI,oBAAtD,EAA4EJ,IAAI,CAACK,sBAAjF,CAApB;AAEAT,GAAG,CAACY,SAAJ,CAAcC,KAAd,GAAsBT,IAAtB;AAEA,IAAMU,MAAM,GAAG,CACX;AAAEV,EAAAA,IAAI,EAAEA,IAAI,CAACC,IAAb;AAAmBU,EAAAA,IAAI,EAAEX,IAAI,CAACC,IAA9B;AAAoCW,EAAAA,KAAK,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAA3C;AAAwDC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAA9D;AAA6EC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,mBAAP,CAAN;AAAA;AAAxF,CADW,CAAf;AAIA,IAAMC,MAAM,GAAG,IAAIpB,SAAJ,CAAc;AAAEqB,EAAAA,IAAI,EAAE,SAAR;AAAmBR,EAAAA,MAAM,EAANA;AAAnB,CAAd,CAAf;AACAO,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAIhB,SAAS,CAACiB,QAAV,CAAmBH,EAAE,CAACpB,IAAtB,CAAJ,EAAiC;AAC7BsB,IAAAA,IAAI;AACP,GAFD,MAEO;AACH,QAAME,UAAU,GAAGd,MAAM,CAACe,GAAP,CAAW,UAAAC,KAAK;AAAA,aAAIA,KAAK,CAAC1B,IAAV;AAAA,KAAhB,EAAgCuB,QAAhC,CAAyCH,EAAE,CAACpB,IAA5C,CAAnB;;AACA,YAAQF,KAAK,CAAC6B,KAAN,CAAYd,IAApB;AACA,WAAK,CAAL;AACIW,QAAAA,UAAU,IAAI,CAACjB,WAAW,CAACgB,QAAZ,CAAqBH,EAAE,CAACpB,IAAxB,CAAf,GAA+CsB,IAAI,EAAnD,GAAwDA,IAAI,CAACtB,IAAI,CAACC,IAAN,CAA5D;AACA;;AACJ;AACIqB,QAAAA,IAAI,CAACtB,IAAI,CAACC,IAAN,CAAJ;AACA;AANJ;AAQH;AACJ,CAdD;AAeAgB,MAAM,CAACW,SAAP,CAAiB,UAACR,EAAD,EAAKC,IAAL;AAAA,SAAcvB,KAAK,CAAC+B,QAAN,CAAe,UAAf,EAA2BT,EAAE,CAACN,IAAH,CAAQC,KAAnC,CAAd;AAAA,CAAjB;AAEA,eAAeE,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nimport store from '../store'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst path = {\r\n    MENU: '/',\r\n    MASTER_USER_LIST: '/master-user-list',\r\n    MASTER_USER_DETAIL: '/master-user-detail',\r\n    MASTER_CATEGORY_LIST: '/master-category-list',\r\n    MASTER_CATEGORY_DETAIL: '/master-category-detail'\r\n}\r\n\r\nconst menuPaths = [path.MENU]\r\nconst masterPaths = [path.MASTER_USER_LIST, path.MASTER_USER_DETAIL, path.MASTER_CATEGORY_LIST, path.MASTER_CATEGORY_DETAIL]\r\n\r\nVue.prototype.$path = path\r\n\r\nconst routes = [\r\n    { path: path.MENU, name: path.MENU, props: { auth: 0 }, meta: { title: '' }, component: () => import('../views/Menu.vue') }\r\n]\r\n\r\nconst router = new VueRouter({ mode: 'history', routes })\r\nrouter.beforeEach((to, from, next) => {\r\n    if (menuPaths.includes(to.path)) {\r\n        next()\r\n    } else {\r\n        const existsPath = routes.map(route => route.path).includes(to.path)\r\n        switch (store.state.auth) {\r\n        case 0:\r\n            existsPath && !masterPaths.includes(to.path) ? next() : next(path.MENU)\r\n            break\r\n        default:\r\n            next(path.MENU)\r\n            break\r\n        }\r\n    }\r\n})\r\nrouter.afterEach((to, from) => store.dispatch('setTitle', to.meta.title))\r\n\r\nexport default router\r\n"]},"metadata":{},"sourceType":"module"}